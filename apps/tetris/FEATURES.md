# テトリスアプリ - 実装済み機能一覧

## 🎮 ゲーム機能

### 基本機能
- ✅ 完全なテトリスゲームロジック
  - 7種類のテトリミノ（I, O, T, S, Z, J, L）
  - ブロックの移動（左・右・下）
  - ブロックの回転（時計回り90度）
  - ライン消去機能
  - ゲームオーバー判定

### スコアシステム
- ✅ スコア計算
  - ライン消去時にスコア追加（ライン数 × 100 × レベル）
  - 下ボタンで1マス下げるごとに+1
- ✅ レベルシステム
  - 10ライン消去ごとにレベルアップ
  - レベルが上がると落下速度が速くなる
- ✅ ハイスコア保存
  - localStorageに保存
  - ゲーム再起動後も保持

### 特殊機能
- ✅ ハードドロップ（一気に下）
  - 下ボタンを押すとブロックが一気に底まで落ちる
  - 落とした距離 × 2 のスコアを追加
  - 底についた後、1秒間は左右ボタンで位置調整可能
- ✅ 位置調整期間
  - ハードドロップ後、1秒間は左右ボタンで位置を調整可能
  - 通常の落下で一番下についた時も、1秒間は左右ボタンで位置調整可能
  - 調整期間中は、ブロックの下に空間がある場合でも正しい位置に落ちる

## 📱 UI/UX機能

### スマホ最適化
- ✅ スマホ画面でスクロールなしで全ての要素が表示される
- ✅ 大きなタッチボタン
  - 回転ボタン
  - 左・右ボタン
  - 一気に下ボタン
- ✅ レスポンシブデザイン
  - スマホ・タブレット・デスクトップに対応

### 操作機能
- ✅ ゲームボードタップで一時停止/再開
- ✅ 一時停止機能
- ✅ ゲームリセット機能

### 表示機能
- ✅ スコア表示（スコア、ハイスコア、レベル、ライン数）
- ✅ 次のピースプレビュー
- ✅ ネオン風ダークテーマ
- ✅ ゲームオーバー表示

## 🔧 PWA機能

- ✅ PWAマニフェスト（manifest.json）
- ✅ メタタグ設定
  - viewport設定
  - Apple Web App設定
  - theme-color設定
- ⚠️ PWAアイコン（要作成）
  - icon-192.png
  - icon-512.png

## 🐛 修正済みバグ

- ✅ テトリミノの回転ロジック修正（回転時に形状が崩れる問題）
- ✅ ブロック落下中に回転しても落下が止まらないように修正
- ✅ ハードドロップ後の左右移動で位置が反対側に戻る問題を修正
- ✅ ハードドロップ後の左右移動でブロックが宙に浮く問題を修正
- ✅ ボタンエリアとブロックエリアが重ならないようにレイアウト調整

## 📋 技術仕様

- **フレームワーク**: Next.js 16.1.4 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS 4
- **状態管理**: React Hooks (useState, useCallback, useRef, useEffect)
- **ストレージ**: localStorage（ハイスコア保存）

## 🚀 デプロイ準備

- ✅ プロダクションビルド確認済み
- ✅ AWS連携用API route雛形作成済み（`src/app/api/score/route.ts`）
- ⏳ AWS Amplify Gen 2へのデプロイ準備中
